{% extends "personne.html" %}
{% load i18n %}
{% load markdown_extra %}
{% load data_display %}

{% block javascript %}
  {{ block.super }}
{% endblock %}


{% block stylesheets %}
  {{ block.super }}
{% endblock %}



{% block title %}
  <h1>
    <img src="{{ STATIC_URL }}telemeta/images/collections_red.png" style="vertical-align:middle" />
    {% trans "Personne" %}
    {% if personne %}
     : {{ personne.last_name }} {{personne.first_name}}
    {% endif %}
  </h1>
{% endblock %}

{% block title_buttons %}
  {% if user.is_authenticated %}
  <a href="{% url "personne-edit" id=id %}">
  <button type="button" class="btn btn-default">
    <span class="glyphicon glyphicon-edit"></span> {% trans "Modifier" %} </span>
  </button>
  </a>
  {% endif %}
{% endblock %}

{% block content %}
{% if not error|length %}
  {% if personne %}
  <div class="container_line">
    {% field_data form.first_name.label|safe personne.first_name|safe %}
    {% field_data form.last_name.label|safe personne.last_name|safe %}
    {% field_data form.civility.label|safe personne.civility|safe %}
    {% field_data form.alias.label|safe personne.alias %}
  </div>
  <div class="container_line">
    <h2>{% trans "Rôles" %}</h2>
      {% if personne.is_collector %}
      {% field_data_bool form.is_collector.label personne.is_collector %}
      {% endif %}
      {% if personne.is_informer %}
      {% field_data_bool form.is_informer.label personne.is_informer %}
      {% endif %}
      {% if personne.is_author %}
      {% field_data_bool form.is_author.label personne.is_author %}
      {% endif %}
      {% if personne.is_composer %}
      {% field_data_bool form.is_composer.label personne.is_composer %}
      {% endif %}
      {% if personne.is_editor %}
      {% field_data_bool form.is_editor.label personne.is_editor %}
      {% endif %}
  </div>
  <div class="block-grey">
    <h2>{% trans "Naissance" %}</h2>
    <div class="container_line">
      {% field_data form.birth_date.label|safe personne.birth_date %}
      {% field_data form.birth_location.label|safe personne.birth_location.name %}
    </div>
  </div>
  <div class="block-grey">
    <h2>{% trans "Décès" %}</h2>
    <div class="container_line">
      {% field_data form.death_date.label|safe personne.death_date %}
      {% field_data form.death_location.label|safe personne.death_location.name %}
    </div>
  </div>
  {% field_data form.biography.label personne.biography|markdown|safe %}
  {% field_data form.uri.label personne.uri %}
  {% else %}
    <p>{% trans "Cette personne n'existe pas." %}</p>
  {% endif %}
{% else %}
    {% display_error error %}
{% endif %}
{% endblock %}
